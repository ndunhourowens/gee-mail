<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="js/mail-generator.js"></script>
  
  <link href="css/style.css" rel="stylesheet" media="screen">
	<script>

	window.onload = function(){
	//Print out date, sender, and subject into the table
	//Input for the row
	var getMoreEmail = setInterval(function() {
		//get new message
		generateTableRow();
	}, 3000);
	

	function generateTableRow() {
		console.log(tableRow);
	}	

	generateTableRow(tableRow);

	for (var i = 0; i < geemails.length; i++){
    	 var email = geemails[i]; // print out rows of each email - Date, Sender, Subject

    	// Build the table
    	var tableRow = document.createElement('tr');
		// Build column for Subject
		var date = document.createElement('td');
		var dateText = document.createTextNode(email.date);
		date.appendChild(dateText);

		// Build column for Sender
		var sender = document.createElement('td');
		var senderText = document.createTextNode(email.sender);
		sender.appendChild(senderText);    	 

		 // Build column for Subject
    	 var subject = document.createElement('td');
    	 var subjectText = document.createTextNode(email.subject);
    	 subject.appendChild(subjectText);

    	 // Build column for Sender
		var body = document.createElement('td');
		var bodyText = document.createTextNode(email.body);
		body.appendChild(bodyText);

    	 // Append table data to the rows
    	 tableRow.appendChild(date);
    	 tableRow.appendChild(sender);
    	 tableRow.appendChild(subject);
    	 tableRow.appendChild(body);

    	 // Append the row into a table
    	 var table = document.getElementById('inbox_messages');
    	 table.appendChild(tableRow);

		} // ends for loop

	
		// Inbox counter
    	document.getElementById("inbox_counter").innerHTML = geemails.length;

	};
	</script>

  <title>GeeMail</title>
</head>
<body>
	<div class="container" id="main">
		<div class="logo_container">
			<div id="logo" >
				<img src="img/Email_Logo.gif">
			</div>
			<div id="user_pic">
				<img src="img/userimg.png" >
			</div>	
			<div id="user_name">
				<h2>USERNAME</h2>
			</div>
				<div id="clear"></div>
		</div>

		<div class="folder_container">
			<ul >
				<li><a href="#">INBOX <div id="inbox_counter"></div></a></li>
				<li><a href="#">SENT</a></li>
				<li><a href="#">DRAFT</a></li>
				<li><a href="#">TRASH</a></li>
				<li><a href="#">REPLY </a></li>
				<li><a href="#">REPLY ALL </a></li>
				<li><a href="#">FORWARD </a></li>
			</ul>
			<div id="clear"></div>
		</div>
			
		<div class="email">
			<div class="inbox_info">
	            <h2>INBOX </h2>
				<table id="inbox_messages">
					<tr>
						<th>DATE</th>
						<th>SENDER</th>
						<th>SUBJECT</th>
						<th>BODY</th>
					</tr>	
				</table>
			</div>
		</div>

		<div>
			<p id="testing"></p>
			<p id="testing2>"></p>
		</div>
	</div>
</body>
</html>